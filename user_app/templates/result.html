{% extends 'user.base.html' %}
{% load staticfiles %}

{% block title %} Search Result {% endblock title %}

{% block content %}

<div class="row-md-6" align='left' style=" font-size: 16px; margin-top: 5%" xmlns="http://www.w3.org/1999/html">

    {% if need_spell_correction %}
      Showing results of <b>{{ search_keyword_spell_correct }}</b>. ({{ time }})</br>
      <form action="." method="post">
          {% csrf_token %}
          <input type="hidden" name="search_keyword" value="{{ search_keyword }}">
          <input type="hidden" name="need_spell_correction" value="false">
          Search instead for <a href="#" onclick="$(this).closest('form').submit()">{{ search_keyword }}</a>
      </form>
    {% else %}
    Search result for <b>{{ search_keyword }}</b> ({{ time }})
    {% endif %}

    {% if documents|length %}

    {% for document in documents %}
    <br>
    <div class = "container" style = "width: 800px; height: 250px; background-color: #C2DFFF;">
       <p style = "text-align: left; font-size: 25px; font-weight: bold;"> {{ document.hotel_name }}

        <div class="image" style = "width: 80px; height: 100px; float: right;">
        <h2 align='right'>{{ document.hotel_star }}</h2>
          <img src="{% static 'img/star_icon.jpg' %}" align = 'right' style="max-height: 50px; max-width: 50px; opacity: 1; vertical-align: top;" alt=""/>
        </div>
       </p>

      <div style = "width: 500px; height: 30px; vertical-align: top; overflow: hidden; ">
        <img src="{{ review.image_url }}">
        <span style = "text-align: left; font-size: 20px">{{ document.review_title }}</span>
      </div>
      <div style = "width: 500px; height: 130px; vertical-align: top; overflow: hidden; ">
        <p style = "text-align: left; font-size: 15px">{{ document.review_content }}</p>
      </div>
        <div class = "image" >
            <img src="{% static 'img/user_rating.jpg' %}" style = "float: left; max-height: 60px; max-width: 60px;" alt=""/>
            <p style = "font-size: 20px; font-style: italic;float:left; ">User Rating: {{document.review_rating}}</p>
            <p style="float: right; font-size: 16px; " >Date Created: {{ document.date }}</p>
        </div>
  </div>
      {% endfor %}
    <div class="pagination">
    <span class="step-links">
        {% if has_previous_page %}
            <form action="." method="post">
                {% csrf_token %}
                <input type="hidden" name="page" value="{{ page|add:'-1' }}">
                <input type="hidden" name="search_keyword" value="{{ search_keyword }}">
                <button type="submit" value="Previous">Previous</button>
            </form>
        {% endif %}

        <span class="current">
            Page {{ documents.number }} of {{ documents.paginator.num_pages }}.
        </span>

        {% if has_next_page %}
            <form action="." method="post">
                {% csrf_token %}
                <input type="hidden" name="page" value="{{ page|add:'1' }}">
                <input type="hidden" name="search_keyword" value="{{ search_keyword }}">
                <button type="submit" value="Next">Next</button>
            </form>
        {% endif %}
    </span>
</div>
    {% else %}
        The query returned no results.
    {% endif %}
  </div>
    <!--<a class="btn " href="/" style="color: #616D7E; background-color: #C2DFFF;  border-radius: 10px; border-color:#616D7E;">Try Again</a>-->

{% endblock content %}
