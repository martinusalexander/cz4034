<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_102) on Wed Feb 01 14:50:11 CET 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Overview (Solr 6.4.1 API)</title>
<meta name="date" content="2017-02-01">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Overview (Solr 6.4.1 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">Solr 6.4.1 solr-ltr API</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">Apache Solr Search Server: Learning to Rank Contrib</div>
</div>
<p>See: <a href="#overview.description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/solr/ltr/package-summary.html">org.apache.solr.ltr</a></td>
<td class="colLast">
<div class="block">
 This package contains the main logic for performing the reranking using
 a Learning to Rank model.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/solr/ltr/feature/package-summary.html">org.apache.solr.ltr.feature</a></td>
<td class="colLast">
<div class="block">Contains Feature related classes</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/solr/ltr/model/package-summary.html">org.apache.solr.ltr.model</a></td>
<td class="colLast">
<div class="block">Contains Model related classes</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/solr/ltr/norm/package-summary.html">org.apache.solr.ltr.norm</a></td>
<td class="colLast">
<div class="block">A normalizer normalizes the value of a feature.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/solr/ltr/response/transform/package-summary.html">org.apache.solr.ltr.response.transform</a></td>
<td class="colLast">
<div class="block">APIs and implementations of <a href="../solr-core/org/apache/solr/response/transform/DocTransformer.html?is-external=true" title="class or interface in org.apache.solr.response.transform"><code>DocTransformer</code></a> for modifying documents in Solr request responses</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/solr/ltr/search/package-summary.html">org.apache.solr.ltr.search</a></td>
<td class="colLast">
<div class="block">APIs and classes for <a href="../solr-core/org/apache/solr/search/QParserPlugin.html?is-external=true" title="class or interface in org.apache.solr.search">parsing</a> and <a href="../solr-core/org/apache/solr/search/SolrIndexSearcher.html?is-external=true" title="class or interface in org.apache.solr.search">processing</a> search requests</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/solr/ltr/store/package-summary.html">org.apache.solr.ltr.store</a></td>
<td class="colLast">
<div class="block">Contains feature and model store related classes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/solr/ltr/store/rest/package-summary.html">org.apache.solr.ltr.store.rest</a></td>
<td class="colLast">
<div class="block">Contains the <a href="../solr-core/org/apache/solr/rest/ManagedResource.html?is-external=true" title="class or interface in org.apache.solr.rest"><code>ManagedResource</code></a> that encapsulate
 the feature and the model stores.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer"><a name="overview.description">
<!--   -->
</a>
<div class="block">Apache Solr Search Server: Learning to Rank Contrib

<p>
This module contains a logic <strong>to plug machine learned ranking modules into Solr</strong>.
</p>
<p>
In information retrieval systems, Learning to Rank is used to re-rank the top X
retrieved documents using trained machine learning models. The hope is
that sophisticated models can make more nuanced ranking decisions than standard ranking
functions like TF-IDF or BM25.
</p>
<p>
This module allows to plug a reranking model directly into Solr, enabling users
to easily build their own learning to rank systems and access the rich
matching features readily available in Solr. It also provides tools to perform
feature engineering and feature extraction.
</p>
<h2> Code structure </h2>
<p>
A Learning to Rank model is plugged into the ranking through the <a href="org/apache/solr/ltr/search/LTRQParserPlugin.html" title="class in org.apache.solr.ltr.search"><code>LTRQParserPlugin</code></a>,
a <a href="../solr-core/org/apache/solr/search/QParserPlugin.html?is-external=true" title="class or interface in org.apache.solr.search"><code>QParserPlugin</code></a>. The plugin will
read from the request the model (instance of <a href="org/apache/solr/ltr/model/LTRScoringModel.html" title="class in org.apache.solr.ltr.model"><code>LTRScoringModel</code></a>)
used to perform the request plus other
parameters. The plugin will generate a <a href="org/apache/solr/ltr/search/LTRQParserPlugin.LTRQuery.html" title="class in org.apache.solr.ltr.search"><code>LTRQuery</code></a>:
a particular <a href="../solr-core/org/apache/solr/search/RankQuery.html?is-external=true" title="class or interface in org.apache.solr.search"><code>RankQuery</code></a>
that will encapsulate the given model and use it to
rescore and rerank the document (by using an <a href="org/apache/solr/ltr/LTRRescorer.html" title="class in org.apache.solr.ltr"><code>LTRRescorer</code></a>).
</p>
<p>
A model will be applied on each document through a <a href="org/apache/solr/ltr/LTRScoringQuery.html" title="class in org.apache.solr.ltr"><code>LTRScoringQuery</code></a>, a
subclass of <a href="http://lucene.apache.org/core/6_4_1/core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search"><code>Query</code></a>. As a normal query,
the learned model will produce a new score
for each document reranked.
</p>
<p>
A <a href="org/apache/solr/ltr/LTRScoringQuery.html" title="class in org.apache.solr.ltr"><code>LTRScoringQuery</code></a> is created by providing an instance of
<a href="org/apache/solr/ltr/model/LTRScoringModel.html" title="class in org.apache.solr.ltr.model"><code>LTRScoringModel</code></a>. An instance of
<a href="org/apache/solr/ltr/model/LTRScoringModel.html" title="class in org.apache.solr.ltr.model"><code>LTRScoringModel</code></a>
defines how to combine the features in order to create a new
score for a document. A new learning to rank model is plugged
into the framework  by extending <a href="org/apache/solr/ltr/model/LTRScoringModel.html" title="class in org.apache.solr.ltr.model"><code>LTRScoringModel</code></a>,
(see for example <a href="org/apache/solr/ltr/model/MultipleAdditiveTreesModel.html" title="class in org.apache.solr.ltr.model"><code>MultipleAdditiveTreesModel</code></a> and <a href="org/apache/solr/ltr/model/LinearModel.html" title="class in org.apache.solr.ltr.model"><code>LinearModel</code></a>).
</p>
<p>
The <a href="org/apache/solr/ltr/LTRScoringQuery.html" title="class in org.apache.solr.ltr"><code>LTRScoringQuery</code></a> will take care of computing the values of
all the features (see <a href="org/apache/solr/ltr/feature/Feature.html" title="class in org.apache.solr.ltr.feature"><code>Feature</code></a>) and then will delegate the final score
generation to the <a href="org/apache/solr/ltr/model/LTRScoringModel.html" title="class in org.apache.solr.ltr.model"><code>LTRScoringModel</code></a>, by calling the method
<a href="org/apache/solr/ltr/model/LTRScoringModel.html#score-float:A-"><code>LTRScoringModel.score(float[] modelFeatureValuesNormalized)</code></a>.
</p>
<p>
A <a href="org/apache/solr/ltr/feature/Feature.html" title="class in org.apache.solr.ltr.feature"><code>Feature</code></a> will produce a particular value for each document, so
it is modeled as a <a href="http://lucene.apache.org/core/6_4_1/core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search"><code>Query</code></a>. The package
<a href="org/apache/solr/ltr/feature/package-summary.html"><code>org.apache.solr.ltr.feature</code></a> contains several examples
of features. One benefit of extending the Query object is that we can reuse
Query as a feature, see for example <a href="org/apache/solr/ltr/feature/SolrFeature.html" title="class in org.apache.solr.ltr.feature"><code>SolrFeature</code></a>.
Features for a document can also be returned in the response by
using the FeatureTransformer (a <a href="../solr-core/org/apache/solr/response/transform/DocTransformer.html?is-external=true" title="class or interface in org.apache.solr.response.transform"><code>DocTransformer</code></a>)
provided by <a href="org/apache/solr/ltr/response/transform/LTRFeatureLoggerTransformerFactory.html" title="class in org.apache.solr.ltr.response.transform"><code>LTRFeatureLoggerTransformerFactory</code></a>.
</p>
<p>
<a href="org/apache/solr/ltr/store/package-summary.html"><code>org.apache.solr.ltr.store</code></a> contains all the logic to store all the features and the models.
Models are registered into a unique <a href="org/apache/solr/ltr/store/ModelStore.html" title="class in org.apache.solr.ltr.store"><code>ModelStore</code></a>,
and each model specifies a particular <a href="org/apache/solr/ltr/store/FeatureStore.html" title="class in org.apache.solr.ltr.store"><code>FeatureStore</code></a> that
will contain a particular subset of features.
<p>
</p>
Features and models can be managed through a REST API, provided by the
<a href="../solr-core/org/apache/solr/rest/ManagedResource.html?is-external=true" title="class or interface in org.apache.solr.rest"><code>Managed Resources</code></a>
<a href="org/apache/solr/ltr/store/rest/ManagedFeatureStore.html" title="class in org.apache.solr.ltr.store.rest"><code>ManagedFeatureStore</code></a>
and <a href="org/apache/solr/ltr/store/rest/ManagedModelStore.html" title="class in org.apache.solr.ltr.store.rest"><code>ManagedModelStore</code></a>.
</p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <i>Copyright &copy; 2000-2017 Apache Software Foundation.  All Rights Reserved.</i>
        </small></p>
</body>
</html>
